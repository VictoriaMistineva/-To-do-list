{"ast":null,"code":"import React, { useEffect, useRef, useState } from 'react';\nimport { render } from 'react-dom';\nimport './styles.css';\n\nconst AssistantRecordPanel = ({\n  recorder,\n  onSave\n}) => {\n  const [isRecording, setIsRecording] = useState(true);\n  const [record, setRecord] = useState();\n  const recorderRef = useRef();\n  const handleStart = React.useCallback(() => {\n    var _a;\n\n    (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.start();\n    setIsRecording(true);\n    setRecord(undefined);\n  }, []);\n  const handleStop = React.useCallback(() => {\n    var _a, _b;\n\n    (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.stop();\n    setIsRecording(false);\n    setRecord((_b = recorderRef.current) === null || _b === void 0 ? void 0 : _b.getRecord());\n  }, []);\n  const handleSave = React.useCallback(() => {\n    if (record) {\n      onSave(record);\n    }\n  }, [onSave, record]);\n  useEffect(() => {\n    var _a;\n\n    (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.stop();\n    recorderRef.current = recorder;\n  }, [recorder]);\n  return React.createElement(\"div\", {\n    className: \"recordPanel\"\n  }, React.createElement(\"button\", {\n    onClick: handleStart,\n    type: \"button\",\n    disabled: isRecording,\n    className: \"recordButton\"\n  }, \"start\"), React.createElement(\"button\", {\n    onClick: handleStop,\n    type: \"button\",\n    disabled: !isRecording,\n    className: \"recordButton\"\n  }, \"stop\"), React.createElement(\"button\", {\n    onClick: handleSave,\n    type: \"button\",\n    disabled: record == null,\n    className: \"recordButton\"\n  }, \"save\"));\n};\n\nexport const renderAssistantRecordPanel = (recorder, saver) => {\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n  render(React.createElement(AssistantRecordPanel, {\n    recorder: recorder,\n    onSave: saver.save\n  }), div);\n};","map":{"version":3,"sources":["/home/zelairy/Рабочий стол/todo-canvas-app/node_modules/@sberdevices/assistant-client/dist/record/index.js"],"names":["React","useEffect","useRef","useState","render","AssistantRecordPanel","recorder","onSave","isRecording","setIsRecording","record","setRecord","recorderRef","handleStart","useCallback","_a","current","start","undefined","handleStop","_b","stop","getRecord","handleSave","createElement","className","onClick","type","disabled","renderAssistantRecordPanel","saver","div","document","body","appendChild","save"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { render } from 'react-dom';\nimport './styles.css';\nconst AssistantRecordPanel = ({ recorder, onSave }) => {\n    const [isRecording, setIsRecording] = useState(true);\n    const [record, setRecord] = useState();\n    const recorderRef = useRef();\n    const handleStart = React.useCallback(() => {\n        var _a;\n        (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.start();\n        setIsRecording(true);\n        setRecord(undefined);\n    }, []);\n    const handleStop = React.useCallback(() => {\n        var _a, _b;\n        (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.stop();\n        setIsRecording(false);\n        setRecord((_b = recorderRef.current) === null || _b === void 0 ? void 0 : _b.getRecord());\n    }, []);\n    const handleSave = React.useCallback(() => {\n        if (record) {\n            onSave(record);\n        }\n    }, [onSave, record]);\n    useEffect(() => {\n        var _a;\n        (_a = recorderRef.current) === null || _a === void 0 ? void 0 : _a.stop();\n        recorderRef.current = recorder;\n    }, [recorder]);\n    return (React.createElement(\"div\", { className: \"recordPanel\" },\n        React.createElement(\"button\", { onClick: handleStart, type: \"button\", disabled: isRecording, className: \"recordButton\" }, \"start\"),\n        React.createElement(\"button\", { onClick: handleStop, type: \"button\", disabled: !isRecording, className: \"recordButton\" }, \"stop\"),\n        React.createElement(\"button\", { onClick: handleSave, type: \"button\", disabled: record == null, className: \"recordButton\" }, \"save\")));\n};\nexport const renderAssistantRecordPanel = (recorder, saver) => {\n    const div = document.createElement('div');\n    document.body.appendChild(div);\n    render(React.createElement(AssistantRecordPanel, { recorder: recorder, onSave: saver.save }), div);\n};\n"]},"metadata":{},"sourceType":"module"}